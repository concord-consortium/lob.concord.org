<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Sensing Science</title>
<link rel="stylesheet" href="css/default.css%3Fv=20150515.css" />
</head>
<body class="reds-only">
  <div id="page-container">
    <div id="stage">
        <video id="video1" poster="img/story/7.jpg">
          <source src="video/activity/7.mp4" type="video/mp4" />
          <source src="video/activity/7.webm" type="video/webm" />
          <source src="video/activity/7.ogv" type="video/ogv" />
        </video>
      <!-- end #video -->
      <div id="model-container">
        <div id="iframe-container-outer">
          <div id="iframe-container-inner">
            <iframe id="interactive-iframe" width="100%"height="100%" src="http://lab.concord.org/embeddable.html#interactives/sensing-science/land-of-bump/model1.json"></iframe>
          </div>
        </div>
        <div id="bump-stage-overlay"></div>
      </div>
      <!-- end #model-container -->
      <div class="speedometer" id="red-speedometer">
        <div class="speedometer-arrow" id="red-speedometer-arrow"></div>
        <div class="speedometer-bump" id="red-speedometer-bump"></div>
      </div>
    </div>
    <!-- end #stage -->
    <div id="controls">
      <div id="text">
        <p>It's time for the red hots to go on the dance floor and practice their routine. What do you think is happening?</p>
      </div>
      <a href="7.html#" id="audio" title="Play audio"
        onclick="document.getElementById('audio1').play(); return false;">play
        audio</a>
      <div id="record-controls">
        <a href="7.html#" id="record" title="Record audio"
          onclick="return false;">record audio</a> <a href="7.html#" id="stop"
          title="Stop recording audio" onclick="return false;">stop
          recording audio</a> <a href="7.html#" id="play"
          title="Play recorded audio" onclick="return false;">play
          recorded audio</a>
      </div>
      <a href="6.html" id="left" title="Go back one page">go back</a> <a
        href="8.html" id="right" title="Go forward one page">continue</a>
    </div>
    <!-- /#controls -->
  </div>
  <!-- end #page-container -->
  <audio id="audio1" src="audio/7a.mp3" preload="auto" />

  <script>
  var instructions_counter = 0;
  var instructions = [
                          'It\'s time for the red hots to go on the dance floor and practice their routine. What do you think is happening?',
                          'Follow one dancer with your eyes and tell us what happens to that one dancer.',
                          'The red hots have a lot of energy and move very fast. Whenever they perform, the dance floor is hot.'
                          ];
  </script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
  <script src="http://concord-consortium.github.io/iframe-phone/dist/iframe-phone.js"></script>
  <script src="js/interface.js%3Fv=20150515"></script>
  <script>
  var interactive = new iframePhone.ParentEndpoint($('#interactive-iframe')[0]);
  
  $(function(){
    interactive.addListener('modelLoaded', function() {
      interactive.post('observe', 'temperature-red');
    });
  });
  
  function interactiveListeners() {
    var red_rotation;
      interactive.addListener('propertyValue', function(result) {
        if (result.name == 'temperature-red') {
          // do something with temp value (result.value)
          red_rotation = Math.round(result.value) * .036;
          $('#red-speedometer-arrow').css({'transform': 'rotate(' + red_rotation + 'deg)', 'transform-origin': 'right center'});
        }
      });
    
  }

  </script>
</body>
</html>