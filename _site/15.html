<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Sensing Science</title>
<link rel="stylesheet" href="css/default.css" />
</head>
<body>
  <div id="page-container">
  <div id="stage">
      <video id="video1" poster="img/story/15.jpg">
        <source src="video/activity/15.mp4" type="video/mp4"></source>
        <source src="video/activity/15.webm" type="video/webm"></source>
        <source src="video/activity/15.ogv" type="video/ogv" />
      </video>
    <div id="model-container">
      <div id="iframe-container-outer">
        <div id="iframe-container-inner">
          <iframe id="interactive-iframe" width="100%"height="100%" src="http://lab.concord.org/embeddable.html#interactives/sensing-science/land-of-bump/model4.json"></iframe>
        </div>
      </div>
      <div id="bump-stage-overlay"></div>
    </div><!-- end #model-container -->
    <div class="speedometer" id="red-speedometer">
      <div class="speedometer-arrow" id="red-speedometer-arrow"></div>
      <div class="speedometer-bump" id="red-speedometer-bump"></div>
    </div>
    <div class="speedometer" id="blue-speedometer">
      <div class="speedometer-arrow" id="blue-speedometer-arrow"></div>
      <div class="speedometer-bump" id="blue-speedometer-bump"></div>
    </div>
    </div><!-- end #stage -->
      <div id="controls">
    	<div id="text">
    	  <p>The room separator is in place. Now the dance teams are ready to try their performances again. Explain why this idea will work, or it will not work. What do you think will happen as the dancers bump into the separator?</p>
    	</div>
    	<a href="15.html#" id="audio" title="Play audio" onclick="document.getElementById('audio1').play(); return false;">play audio</a>
    	<div id="record-controls">
    	  <a href="15.html#" id="record" title="Record audio" onclick="return false;">record audio</a>
    	  <a href="15.html#" id="stop" title="Stop recording audio" onclick="return false;">stop recording audio</a>
    	  <a href="15.html#" id="play" title="Play recorded audio" onclick="return false;">play recorded audio</a>
    	</div>
    	<a href="14.html" id="left" title="Go backward one page">go back</a>
    	<a href="16.html" id="right" title="Go forward one page">continue</a>
      </div><!-- /#controls -->
    </div><!-- /#page-container -->
    <audio id="audio1" src="audio/15a.mp3" preload="auto" />
  <script>
  var instructions_counter = 0;
  var instructions = [
                          'The room separator is in place. Now the dance teams are ready to try their performances again. Explain why this idea will work, or it will not work. What do you think will happen as the dancers bump into the separator?',
                          'So did the room separator work? What might we do next to make it work better?',
                          'It was a good idea. The separator kept the Red Hots and the Cool Blues separated so they could each dance their routines, one fast and the other slow. But then there were two problems. First, the dance teams bumped into the separator. Then, the separator bumped into the dancers. After a while, everybody moved at the same speed. The people of the Land of Bump needed a better solution to save the Annual Bump Dance Festival. Explain what you think they should do so both teams can share the dance floor without changing each other\'s routines.'
                          ];   
  </script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
  <script src="http://concord-consortium.github.io/iframe-phone/dist/iframe-phone.js"></script>
  <script src="js/interface.js"></script>
  <script>
    var interactive = new iframePhone.ParentEndpoint($('#interactive-iframe')[0]);
    
    $(function(){
      interactive.addListener('modelLoaded', function() {
        interactive.post('observe', 'temperature-blue');
        interactive.post('observe', 'temperature-red');
      });
    });
    
    function interactiveListeners() {
      var blue_rotation, red_rotation;
        interactive.addListener('propertyValue', function(result) {
          if (result.name == 'temperature-blue') {
            // do something with temp value (result.value)
            blue_rotation = Math.round(result.value) * .036;
            $('#blue-speedometer-arrow').css({'transform': 'rotate(' + blue_rotation + 'deg)', 'transform-origin': 'right center'});
          }
          if (result.name == 'temperature-red') {
            // do something with temp value (result.value)
            red_rotation = Math.round(result.value) * .036;
            $('#red-speedometer-arrow').css({'transform': 'rotate(' + red_rotation + 'deg)', 'transform-origin': 'right center'});
          }
        });
      
    }
  </script>
</body>
</html>
